/*** partab.c ****************************************************************/
/* schnelle Berechnung der Paritaet bzw. MOD2 Addition                       */
/* mit Hilfe von  Tabellen                                                   */
/*                                                                           */
/* AUTOR: Juergen Rinas,  31.05.1999                                         */
/*****************************************************************************/

unsigned char partab[] =
{
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
  0, 1, 1, 0, 1, 0, 0, 1,
  0, 1, 1, 0, 1, 0, 0, 1,
  1, 0, 0, 1, 0, 1, 1, 0,
};

extern unsigned char partab[];

/* 16-Bit Paritaet berechnen */
int
parity16(int x)
{
  x ^= (x >> 8);
  return partab[x & 0xff];
}

/* 32-Bit Paritaet berechnen */
long
parity32(long x)
{
  x ^= (x >> 24);
  x ^= (x >> 16);
  x ^= (x >> 8);
  return partab[x & 0xff];
}

/* Programm zur Erzeugung obiger Paritaetstabelle */
/*
   int main()
   {
   int count=0; 
   do
   {
   int sum=0;
   int bit;
   for (bit=0;bit<8;bit++)
   sum+=(count>>bit)&0x01;

   printf("%d, ",sum%2);  

   count++;
   if ((count%8)==0)
   printf("\n");
   } while (count<256);

   return 0;
   }
 */

/*** EOF **********************************************************************/
